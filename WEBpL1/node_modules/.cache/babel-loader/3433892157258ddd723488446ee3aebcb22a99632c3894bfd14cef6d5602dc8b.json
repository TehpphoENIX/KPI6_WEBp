{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEffects = require(\"./DraftEffects\");\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\nvar containsNode = require(\"fbjs/lib/containsNode\");\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\nvar invariant = require(\"fbjs/lib/invariant\");\nvar isElement = require(\"./isElement\");\nvar isIE = UserAgent.isBrowser('IE');\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n  !isElement(anonymized) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  var castedElement = anonymized;\n  return castedElement.outerHTML;\n}\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return getCorrectDocumentFromNode(node).createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n  var clone = node.cloneNode();\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n  var childNodes = node.childNodes;\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n  return clone;\n}\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node; // this should only be used after checking with isElement\n\n  var castedNode = currentNode;\n  while (currentNode) {\n    if (isElement(currentNode) && castedNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n      castedNode = currentNode;\n    }\n  }\n  return 'Could not find contentEditable parent of node';\n}\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\n\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  var documentObject = getCorrectDocumentFromNode(node);\n  if (!containsNode(documentObject.documentElement, node)) {\n    return;\n  }\n  var selection = documentObject.defaultView.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward(); // IE doesn't support backward selection. Swap key/offset pairs.\n\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset; // If the selection is entirely bound within this node, set the selection\n  // and be done.\n\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    } // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    } // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n/**\n * Extend selection towards focus point.\n */\n\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  var extend = selection.extend; // containsNode returns false if node is null.\n  // Let's refine the type of this value out here so flow knows.\n\n  if (extend && node != null && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({\n          offset: offset\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    } // logging to catch bug that is being reported in t18110632\n\n    var nodeWasFocus = node === selection.focusNode;\n    try {\n      // Fixes some reports of \"InvalidStateError: Failed to execute 'extend' on\n      // 'Selection': This Selection object doesn't have any Ranges.\"\n      // Note: selection.extend does not exist in IE.\n      if (selection.rangeCount > 0 && selection.extend) {\n        selection.extend(node, offset);\n      }\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      }); // allow the error to be thrown -\n      // better than continuing in a broken state\n\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    if (node && selection.rangeCount > 0) {\n      var range = selection.getRangeAt(0);\n      range.setEnd(node, offset);\n      selection.addRange(range.cloneRange());\n    }\n  }\n}\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = getCorrectDocumentFromNode(node).createRange(); // logging to catch bug that is being reported in t16250795\n\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({\n        offset: offset\n      }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n    DraftEffects.handleExtensionCausedError();\n  }\n  range.setStart(node, offset); // IE sometimes throws Unspecified Error when trying to addRange\n\n  if (isIE) {\n    try {\n      selection.addRange(range);\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        /* eslint-disable-next-line no-console */\n        console.warn('Call to selection.addRange() threw exception: ', e);\n      }\n    }\n  } else {\n    selection.addRange(range);\n  }\n}\nmodule.exports = {\n  setDraftEditorSelection: setDraftEditorSelection,\n  addFocusToSelection: addFocusToSelection\n};","map":{"version":3,"names":["DraftEffects","require","DraftJsDebugLogging","UserAgent","containsNode","getActiveElement","getCorrectDocumentFromNode","invariant","isElement","isIE","isBrowser","getAnonymizedDOM","node","getNodeLabels","anonymized","anonymizeTextWithin","nodeType","Node","TEXT_NODE","textContent","process","env","NODE_ENV","castedElement","outerHTML","labels","undefined","length","createTextNode","join","clone","cloneNode","setAttribute","childNodes","ii","appendChild","getAnonymizedEditorDOM","currentNode","castedNode","hasAttribute","parentNode","getNodeLength","nodeValue","setDraftEditorSelection","selectionState","blockKey","nodeStart","nodeEnd","documentObject","documentElement","selection","defaultView","getSelection","anchorKey","getAnchorKey","anchorOffset","getAnchorOffset","focusKey","getFocusKey","focusOffset","getFocusOffset","isBackward","getIsBackward","extend","tempKey","tempOffset","hasAnchor","hasFocus","removeAllRanges","addPointToSelection","addFocusToSelection","storedFocusNode","focusNode","storedFocusOffset","offset","activeElement","logSelectionStateFailure","anonymizedDom","extraParams","JSON","stringify","toJS","nodeWasFocus","rangeCount","e","n","push","anchorNode","activeElementName","nodeName","nodeIsFocus","selectionRangeCount","selectionAnchorNodeName","selectionAnchorOffset","selectionFocusNodeName","selectionFocusOffset","message","range","getRangeAt","setEnd","addRange","cloneRange","createRange","handleExtensionCausedError","setStart","console","warn","module","exports"],"sources":["C:/Users/Teh_phoENIX/source/repos/WEBp/WEBpL1/node_modules/draft-js/lib/setDraftEditorSelection.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar DraftJsDebugLogging = require(\"./DraftJsDebugLogging\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar containsNode = require(\"fbjs/lib/containsNode\");\n\nvar getActiveElement = require(\"fbjs/lib/getActiveElement\");\n\nvar getCorrectDocumentFromNode = require(\"./getCorrectDocumentFromNode\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isElement = require(\"./isElement\");\n\nvar isIE = UserAgent.isBrowser('IE');\n\nfunction getAnonymizedDOM(node, getNodeLabels) {\n  if (!node) {\n    return '[empty]';\n  }\n\n  var anonymized = anonymizeTextWithin(node, getNodeLabels);\n\n  if (anonymized.nodeType === Node.TEXT_NODE) {\n    return anonymized.textContent;\n  }\n\n  !isElement(anonymized) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Node must be an Element if it is not a text node.') : invariant(false) : void 0;\n  var castedElement = anonymized;\n  return castedElement.outerHTML;\n}\n\nfunction anonymizeTextWithin(node, getNodeLabels) {\n  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    var length = node.textContent.length;\n    return getCorrectDocumentFromNode(node).createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');\n  }\n\n  var clone = node.cloneNode();\n\n  if (clone.nodeType === 1 && labels.length) {\n    clone.setAttribute('data-labels', labels.join(', '));\n  }\n\n  var childNodes = node.childNodes;\n\n  for (var ii = 0; ii < childNodes.length; ii++) {\n    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));\n  }\n\n  return clone;\n}\n\nfunction getAnonymizedEditorDOM(node, getNodeLabels) {\n  // grabbing the DOM content of the Draft editor\n  var currentNode = node; // this should only be used after checking with isElement\n\n  var castedNode = currentNode;\n\n  while (currentNode) {\n    if (isElement(currentNode) && castedNode.hasAttribute('contenteditable')) {\n      // found the Draft editor container\n      return getAnonymizedDOM(currentNode, getNodeLabels);\n    } else {\n      currentNode = currentNode.parentNode;\n      castedNode = currentNode;\n    }\n  }\n\n  return 'Could not find contentEditable parent of node';\n}\n\nfunction getNodeLength(node) {\n  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;\n}\n/**\n * In modern non-IE browsers, we can support both forward and backward\n * selections.\n *\n * Note: IE10+ supports the Selection object, but it does not support\n * the `extend` method, which means that even in modern IE, it's not possible\n * to programatically create a backward selection. Thus, for all IE\n * versions, we use the old IE API to create our selections.\n */\n\n\nfunction setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {\n  // It's possible that the editor has been removed from the DOM but\n  // our selection code doesn't know it yet. Forcing selection in\n  // this case may lead to errors, so just bail now.\n  var documentObject = getCorrectDocumentFromNode(node);\n\n  if (!containsNode(documentObject.documentElement, node)) {\n    return;\n  }\n\n  var selection = documentObject.defaultView.getSelection();\n  var anchorKey = selectionState.getAnchorKey();\n  var anchorOffset = selectionState.getAnchorOffset();\n  var focusKey = selectionState.getFocusKey();\n  var focusOffset = selectionState.getFocusOffset();\n  var isBackward = selectionState.getIsBackward(); // IE doesn't support backward selection. Swap key/offset pairs.\n\n  if (!selection.extend && isBackward) {\n    var tempKey = anchorKey;\n    var tempOffset = anchorOffset;\n    anchorKey = focusKey;\n    anchorOffset = focusOffset;\n    focusKey = tempKey;\n    focusOffset = tempOffset;\n    isBackward = false;\n  }\n\n  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;\n  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset; // If the selection is entirely bound within this node, set the selection\n  // and be done.\n\n  if (hasAnchor && hasFocus) {\n    selection.removeAllRanges();\n    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    return;\n  }\n\n  if (!isBackward) {\n    // If the anchor is within this node, set the range start.\n    if (hasAnchor) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n    } // If the focus is within this node, we can assume that we have\n    // already set the appropriate start range on the selection, and\n    // can simply extend the selection.\n\n\n    if (hasFocus) {\n      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    }\n  } else {\n    // If this node has the focus, set the selection range to be a\n    // collapsed range beginning here. Later, when we encounter the anchor,\n    // we'll use this information to extend the selection.\n    if (hasFocus) {\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);\n    } // If this node has the anchor, we may assume that the correct\n    // focus information is already stored on the selection object.\n    // We keep track of it, reset the selection range, and extend it\n    // back to the focus point.\n\n\n    if (hasAnchor) {\n      var storedFocusNode = selection.focusNode;\n      var storedFocusOffset = selection.focusOffset;\n      selection.removeAllRanges();\n      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);\n      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);\n    }\n  }\n}\n/**\n * Extend selection towards focus point.\n */\n\n\nfunction addFocusToSelection(selection, node, offset, selectionState) {\n  var activeElement = getActiveElement();\n  var extend = selection.extend; // containsNode returns false if node is null.\n  // Let's refine the type of this value out here so flow knows.\n\n  if (extend && node != null && containsNode(activeElement, node)) {\n    // If `extend` is called while another element has focus, an error is\n    // thrown. We therefore disable `extend` if the active element is somewhere\n    // other than the node we are selecting. This should only occur in Firefox,\n    // since it is the only browser to support multiple selections.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.\n    // logging to catch bug that is being reported in t16250795\n    if (offset > getNodeLength(node)) {\n      // the call to 'selection.extend' is about to throw\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node),\n        extraParams: JSON.stringify({\n          offset: offset\n        }),\n        selectionState: JSON.stringify(selectionState.toJS())\n      });\n    } // logging to catch bug that is being reported in t18110632\n\n\n    var nodeWasFocus = node === selection.focusNode;\n\n    try {\n      // Fixes some reports of \"InvalidStateError: Failed to execute 'extend' on\n      // 'Selection': This Selection object doesn't have any Ranges.\"\n      // Note: selection.extend does not exist in IE.\n      if (selection.rangeCount > 0 && selection.extend) {\n        selection.extend(node, offset);\n      }\n    } catch (e) {\n      DraftJsDebugLogging.logSelectionStateFailure({\n        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {\n          var labels = [];\n\n          if (n === activeElement) {\n            labels.push('active element');\n          }\n\n          if (n === selection.anchorNode) {\n            labels.push('selection anchor node');\n          }\n\n          if (n === selection.focusNode) {\n            labels.push('selection focus node');\n          }\n\n          return labels;\n        }),\n        extraParams: JSON.stringify({\n          activeElementName: activeElement ? activeElement.nodeName : null,\n          nodeIsFocus: node === selection.focusNode,\n          nodeWasFocus: nodeWasFocus,\n          selectionRangeCount: selection.rangeCount,\n          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,\n          selectionAnchorOffset: selection.anchorOffset,\n          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,\n          selectionFocusOffset: selection.focusOffset,\n          message: e ? '' + e : null,\n          offset: offset\n        }, null, 2),\n        selectionState: JSON.stringify(selectionState.toJS(), null, 2)\n      }); // allow the error to be thrown -\n      // better than continuing in a broken state\n\n      throw e;\n    }\n  } else {\n    // IE doesn't support extend. This will mean no backward selection.\n    // Extract the existing selection range and add focus to it.\n    // Additionally, clone the selection range. IE11 throws an\n    // InvalidStateError when attempting to access selection properties\n    // after the range is detached.\n    if (node && selection.rangeCount > 0) {\n      var range = selection.getRangeAt(0);\n      range.setEnd(node, offset);\n      selection.addRange(range.cloneRange());\n    }\n  }\n}\n\nfunction addPointToSelection(selection, node, offset, selectionState) {\n  var range = getCorrectDocumentFromNode(node).createRange(); // logging to catch bug that is being reported in t16250795\n\n  if (offset > getNodeLength(node)) {\n    // in this case we know that the call to 'range.setStart' is about to throw\n    DraftJsDebugLogging.logSelectionStateFailure({\n      anonymizedDom: getAnonymizedEditorDOM(node),\n      extraParams: JSON.stringify({\n        offset: offset\n      }),\n      selectionState: JSON.stringify(selectionState.toJS())\n    });\n    DraftEffects.handleExtensionCausedError();\n  }\n\n  range.setStart(node, offset); // IE sometimes throws Unspecified Error when trying to addRange\n\n  if (isIE) {\n    try {\n      selection.addRange(range);\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        /* eslint-disable-next-line no-console */\n        console.warn('Call to selection.addRange() threw exception: ', e);\n      }\n    }\n  } else {\n    selection.addRange(range);\n  }\n}\n\nmodule.exports = {\n  setDraftEditorSelection: setDraftEditorSelection,\n  addFocusToSelection: addFocusToSelection\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}