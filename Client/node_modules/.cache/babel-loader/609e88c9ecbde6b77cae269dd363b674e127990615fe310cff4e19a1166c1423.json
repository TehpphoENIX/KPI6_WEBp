{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\nvar gkx = require(\"./gkx\");\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\n/**\n * For a collapsed selection state, remove text based on the specified strategy.\n * If the selection state is not collapsed, remove the entire selected range.\n */\n\nfunction removeTextWithStrategy(editorState, strategy, direction) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var target = selection;\n  var anchorKey = selection.getAnchorKey();\n  var focusKey = selection.getFocusKey();\n  var anchorBlock = content.getBlockForKey(anchorKey);\n  if (experimentalTreeDataSupport) {\n    if (direction === 'forward') {\n      if (anchorKey !== focusKey) {\n        // For now we ignore forward delete across blocks,\n        // if there is demand for this we will implement it.\n        return content;\n      }\n    }\n  }\n  if (selection.isCollapsed()) {\n    if (direction === 'forward') {\n      if (editorState.isSelectionAtEndOfContent()) {\n        return content;\n      }\n      if (experimentalTreeDataSupport) {\n        var isAtEndOfBlock = selection.getAnchorOffset() === content.getBlockForKey(anchorKey).getLength();\n        if (isAtEndOfBlock) {\n          var anchorBlockSibling = content.getBlockForKey(anchorBlock.nextSibling);\n          if (!anchorBlockSibling || anchorBlockSibling.getLength() === 0) {\n            // For now we ignore forward delete at the end of a block,\n            // if there is demand for this we will implement it.\n            return content;\n          }\n        }\n      }\n    } else if (editorState.isSelectionAtStartOfContent()) {\n      return content;\n    }\n    target = strategy(editorState);\n    if (target === selection) {\n      return content;\n    }\n  }\n  return DraftModifier.removeRange(content, target, direction);\n}\nmodule.exports = removeTextWithStrategy;","map":{"version":3,"names":["DraftModifier","require","gkx","experimentalTreeDataSupport","removeTextWithStrategy","editorState","strategy","direction","selection","getSelection","content","getCurrentContent","target","anchorKey","getAnchorKey","focusKey","getFocusKey","anchorBlock","getBlockForKey","isCollapsed","isSelectionAtEndOfContent","isAtEndOfBlock","getAnchorOffset","getLength","anchorBlockSibling","nextSibling","isSelectionAtStartOfContent","removeRange","module","exports"],"sources":["C:/Users/Teh_phoENIX/source/repos/WEBp/WEBpL1/node_modules/draft-js/lib/removeTextWithStrategy.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar DraftModifier = require(\"./DraftModifier\");\n\nvar gkx = require(\"./gkx\");\n\nvar experimentalTreeDataSupport = gkx('draft_tree_data_support');\n/**\n * For a collapsed selection state, remove text based on the specified strategy.\n * If the selection state is not collapsed, remove the entire selected range.\n */\n\nfunction removeTextWithStrategy(editorState, strategy, direction) {\n  var selection = editorState.getSelection();\n  var content = editorState.getCurrentContent();\n  var target = selection;\n  var anchorKey = selection.getAnchorKey();\n  var focusKey = selection.getFocusKey();\n  var anchorBlock = content.getBlockForKey(anchorKey);\n\n  if (experimentalTreeDataSupport) {\n    if (direction === 'forward') {\n      if (anchorKey !== focusKey) {\n        // For now we ignore forward delete across blocks,\n        // if there is demand for this we will implement it.\n        return content;\n      }\n    }\n  }\n\n  if (selection.isCollapsed()) {\n    if (direction === 'forward') {\n      if (editorState.isSelectionAtEndOfContent()) {\n        return content;\n      }\n\n      if (experimentalTreeDataSupport) {\n        var isAtEndOfBlock = selection.getAnchorOffset() === content.getBlockForKey(anchorKey).getLength();\n\n        if (isAtEndOfBlock) {\n          var anchorBlockSibling = content.getBlockForKey(anchorBlock.nextSibling);\n\n          if (!anchorBlockSibling || anchorBlockSibling.getLength() === 0) {\n            // For now we ignore forward delete at the end of a block,\n            // if there is demand for this we will implement it.\n            return content;\n          }\n        }\n      }\n    } else if (editorState.isSelectionAtStartOfContent()) {\n      return content;\n    }\n\n    target = strategy(editorState);\n\n    if (target === selection) {\n      return content;\n    }\n  }\n\n  return DraftModifier.removeRange(content, target, direction);\n}\n\nmodule.exports = removeTextWithStrategy;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,aAAa,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAE9C,IAAIC,GAAG,GAAGD,OAAO,CAAC,OAAO,CAAC;AAE1B,IAAIE,2BAA2B,GAAGD,GAAG,CAAC,yBAAyB,CAAC;AAChE;AACA;AACA;AACA;;AAEA,SAASE,sBAAsBA,CAACC,WAAW,EAAEC,QAAQ,EAAEC,SAAS,EAAE;EAChE,IAAIC,SAAS,GAAGH,WAAW,CAACI,YAAY,EAAE;EAC1C,IAAIC,OAAO,GAAGL,WAAW,CAACM,iBAAiB,EAAE;EAC7C,IAAIC,MAAM,GAAGJ,SAAS;EACtB,IAAIK,SAAS,GAAGL,SAAS,CAACM,YAAY,EAAE;EACxC,IAAIC,QAAQ,GAAGP,SAAS,CAACQ,WAAW,EAAE;EACtC,IAAIC,WAAW,GAAGP,OAAO,CAACQ,cAAc,CAACL,SAAS,CAAC;EAEnD,IAAIV,2BAA2B,EAAE;IAC/B,IAAII,SAAS,KAAK,SAAS,EAAE;MAC3B,IAAIM,SAAS,KAAKE,QAAQ,EAAE;QAC1B;QACA;QACA,OAAOL,OAAO;MAChB;IACF;EACF;EAEA,IAAIF,SAAS,CAACW,WAAW,EAAE,EAAE;IAC3B,IAAIZ,SAAS,KAAK,SAAS,EAAE;MAC3B,IAAIF,WAAW,CAACe,yBAAyB,EAAE,EAAE;QAC3C,OAAOV,OAAO;MAChB;MAEA,IAAIP,2BAA2B,EAAE;QAC/B,IAAIkB,cAAc,GAAGb,SAAS,CAACc,eAAe,EAAE,KAAKZ,OAAO,CAACQ,cAAc,CAACL,SAAS,CAAC,CAACU,SAAS,EAAE;QAElG,IAAIF,cAAc,EAAE;UAClB,IAAIG,kBAAkB,GAAGd,OAAO,CAACQ,cAAc,CAACD,WAAW,CAACQ,WAAW,CAAC;UAExE,IAAI,CAACD,kBAAkB,IAAIA,kBAAkB,CAACD,SAAS,EAAE,KAAK,CAAC,EAAE;YAC/D;YACA;YACA,OAAOb,OAAO;UAChB;QACF;MACF;IACF,CAAC,MAAM,IAAIL,WAAW,CAACqB,2BAA2B,EAAE,EAAE;MACpD,OAAOhB,OAAO;IAChB;IAEAE,MAAM,GAAGN,QAAQ,CAACD,WAAW,CAAC;IAE9B,IAAIO,MAAM,KAAKJ,SAAS,EAAE;MACxB,OAAOE,OAAO;IAChB;EACF;EAEA,OAAOV,aAAa,CAAC2B,WAAW,CAACjB,OAAO,EAAEE,MAAM,EAAEL,SAAS,CAAC;AAC9D;AAEAqB,MAAM,CAACC,OAAO,GAAGzB,sBAAsB"},"metadata":{},"sourceType":"script","externalDependencies":[]}