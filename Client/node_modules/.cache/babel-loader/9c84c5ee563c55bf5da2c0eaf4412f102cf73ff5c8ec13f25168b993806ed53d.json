{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar applyEntityToContentBlock = require(\"./applyEntityToContentBlock\");\nvar Immutable = require(\"immutable\");\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\nmodule.exports = applyEntityToContentState;","map":{"version":3,"names":["applyEntityToContentBlock","require","Immutable","applyEntityToContentState","contentState","selectionState","entityKey","blockMap","getBlockMap","startKey","getStartKey","startOffset","getStartOffset","endKey","getEndKey","endOffset","getEndOffset","newBlocks","skipUntil","_","k","takeUntil","toOrderedMap","merge","OrderedMap","get","map","block","blockKey","sliceStart","sliceEnd","getLength","selectionBefore","selectionAfter","module","exports"],"sources":["C:/Users/Teh_phoENIX/source/repos/WEBp/WEBpL1/node_modules/draft-js/lib/applyEntityToContentState.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n * @emails oncall+draft_js\n */\n'use strict';\n\nvar applyEntityToContentBlock = require(\"./applyEntityToContentBlock\");\n\nvar Immutable = require(\"immutable\");\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,yBAAyB,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AAEtE,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEpC,SAASE,yBAAyBA,CAACC,YAAY,EAAEC,cAAc,EAAEC,SAAS,EAAE;EAC1E,IAAIC,QAAQ,GAAGH,YAAY,CAACI,WAAW,EAAE;EACzC,IAAIC,QAAQ,GAAGJ,cAAc,CAACK,WAAW,EAAE;EAC3C,IAAIC,WAAW,GAAGN,cAAc,CAACO,cAAc,EAAE;EACjD,IAAIC,MAAM,GAAGR,cAAc,CAACS,SAAS,EAAE;EACvC,IAAIC,SAAS,GAAGV,cAAc,CAACW,YAAY,EAAE;EAC7C,IAAIC,SAAS,GAAGV,QAAQ,CAACW,SAAS,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;IACjD,OAAOA,CAAC,KAAKX,QAAQ;EACvB,CAAC,CAAC,CAACY,SAAS,CAAC,UAAUF,CAAC,EAAEC,CAAC,EAAE;IAC3B,OAAOA,CAAC,KAAKP,MAAM;EACrB,CAAC,CAAC,CAACS,YAAY,EAAE,CAACC,KAAK,CAACrB,SAAS,CAACsB,UAAU,CAAC,CAAC,CAACX,MAAM,EAAEN,QAAQ,CAACkB,GAAG,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAACa,GAAG,CAAC,UAAUC,KAAK,EAAEC,QAAQ,EAAE;IAC7G,IAAIC,UAAU,GAAGD,QAAQ,KAAKnB,QAAQ,GAAGE,WAAW,GAAG,CAAC;IACxD,IAAImB,QAAQ,GAAGF,QAAQ,KAAKf,MAAM,GAAGE,SAAS,GAAGY,KAAK,CAACI,SAAS,EAAE;IAClE,OAAO/B,yBAAyB,CAAC2B,KAAK,EAAEE,UAAU,EAAEC,QAAQ,EAAExB,SAAS,CAAC;EAC1E,CAAC,CAAC;EACF,OAAOF,YAAY,CAACmB,KAAK,CAAC;IACxBhB,QAAQ,EAAEA,QAAQ,CAACgB,KAAK,CAACN,SAAS,CAAC;IACnCe,eAAe,EAAE3B,cAAc;IAC/B4B,cAAc,EAAE5B;EAClB,CAAC,CAAC;AACJ;AAEA6B,MAAM,CAACC,OAAO,GAAGhC,yBAAyB"},"metadata":{},"sourceType":"script","externalDependencies":[]}